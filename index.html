<!doctype html>
<html lang="en">
	<head>
		<!-- Meta -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Tab Title -->
		<title>Where's Santa?</title>

		<!-- Flavicon -->
		<link href="images/santa.png" rel="icon">

		<!-- Bootstrap -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

		<!-- Font Awesome -->
		<script src="https://kit.fontawesome.com/37d6505749.js" crossorigin="anonymous"></script>

		<!-- My CSS -->
		<style type="text/css">
			body, html {
				margin: 0;
				padding: 0;
				height: 100%;
				overflow-x: auto;
			}

			.circle {
				width: 20px;
				height: 20px;
				background-color: transparent;
				border: 2px solid green;
				border-radius: 50%;
				pointer-events: none;
			}

			.bottom-left {
				transform: translate(0%, -100%);
			}
		</style>
	</head>
	<body>
		<div class="position-relative" id="father">
			<img id="worldmap" src="images/worldmap.png" style="">
			<div class="position-absolute circle d-none" id="cursor"></div>
		</div>

		<div class="col-12 col-md-6 col-xl-4 position-absolute top-100 start-0 bottom-left bg-light bg-opacity-75 p-2" id="mother">
			<!-- <div class="row m-1">
				<div class="col d-grid">
					<button class="btn btn-sm btn-primary">Connect Wallet</button>
				</div>
			</div> -->

			<div class="row m-1">
				<div class="input-group input-group-sm p-0">
					<span class="input-group-text">Your Reward:</span>
					<input type="text" class="form-control" value="0" style="width: 50px;" readonly disabled>
				</div>
			</div>

			<div class="row m-1 mt-2">
				<div class="col d-grid p-0 pe-1">
					<button class="btn btn-sm btn-outline-primary" type="button">Docs</button>
				</div>

				<div class="col d-grid p-0">
					<button class="btn btn-sm btn-outline-primary" type="button">Referral</button>
				</div>

				<div class="col d-grid p-0 ps-1">
					<button class="btn btn-sm btn-outline-success" type="button" disabled>Claim</button>
				</div>
			</div>

			<hr>

			<div class="row m-1">
				<div class="input-group input-group-sm p-0">
					<span class="input-group-text">Location:</span>
					<input type="text" class="form-control" id="coordX" style="width: 50px;" readonly disabled>
					<input type="text" class="form-control" id="coordY" style="width: 50px;" readonly disabled>
				</div>
			</div>

			<div class="row m-1">
				<div class="input-group input-group-sm p-0">
					<span class="input-group-text">Quantity:</span>
					<input type="number" class="form-control" id="" value="1" style="width: 70px;">
					<span class="input-group-text">=</span>
					<input type="text" class="form-control" id="" value="0,00044" style="width: 90px;" readonly disabled>
					<span class="input-group-text">ETH</span>
				</div>
			</div>

			<div class="row m-1">
				<div class="form-check form-switch">
					<input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
					<label class="form-check-label" for="flexSwitchCheckDefault">Use random location</label>
				</div>
			</div>

			<div class="row m-1">
				<div class="col-1 d-grid p-0">
					<button class="btn btn-sm btn-outline-primary" id="relocateButton">
						<i class="fa-solid fa-arrows-up-down"></i>
					</button>
				</div>

				<div class="col d-grid p-0 px-1">
					<button type="button" class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#rewardModal">
						Rewards
					</button>
				</div>

				<div class="col d-grid p-0">
					<button class="btn btn-sm btn-success" type="button">Scan!</button>
				</div>
			</div>
		</div>


		<!-- Success Toast -->
		<div class="toast-container position-fixed bottom-0 end-0 p-3">
			<div id="successToast" class="toast text-bg-success" role="alert" aria-live="assertive" aria-atomic="true">
				<div class="toast-header">
					<img src="images/santa.png" class="rounded me-2" height="25">
					<strong class="me-auto">To be announced</strong>
					<!-- <small>11 mins ago</small> -->
					<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
				</div>
				<div class="toast-body">
					Stay Tuned!
				</div>
			</div>
		</div>

		<!-- Modal -->
		<div class="modal fade" id="rewardModal" tabindex="-1" aria-labelledby="rewardModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title fs-5" id="rewardModalLabel">Rewards on the map:</h1>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<table class="table table-sm">					
							<tbody>
								<tr>
									<td align="center"><img class="img-fluid" src="images/santa.png"></td>
									<td>
										<div><small><b>Title:</b> Santa</small></div>
										<div><small><b>Quantity:</b> 1</small></div>
										<div><small><b>Reward:</b> 100,000</small></div>
										<div><small><b>Total:</b> 100,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 1</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/deer.png"></td>
									<td>
										<div><small><b>Title:</b> Reindeer</small></div>
										<div><small><b>Quantity:</b> 2</small></div>
										<div><small><b>Reward:</b> 10,000</small></div>
										<div><small><b>Total:</b> 20,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 2</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/sleigh.png"></td>
									<td>
										<div><small><b>Title:</b> Sleigh</small></div>
										<div><small><b>Quantity:</b> 6</small></div>
										<div><small><b>Reward:</b> 5,000</small></div>
										<div><small><b>Total:</b> 30,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 6</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/wand.png"></td>
									<td>
										<div><small><b>Title:</b> Magic Wand</small></div>
										<div><small><b>Quantity:</b> 10</small></div>
										<div><small><b>Reward:</b> 2,500</small></div>
										<div><small><b>Total:</b> 25,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 10</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/hat.png"></td>
									<td>
										<div><small><b>Title:</b> Santa Hat</small></div>
										<div><small><b>Quantity:</b> 25</small></div>
										<div><small><b>Reward:</b> 1,000</small></div>
										<div><small><b>Total:</b> 25,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 25</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/elf.png"></td>
									<td>
										<div><small><b>Title:</b> Elf</small></div>
										<div><small><b>Quantity:</b> 50</small></div>
										<div><small><b>Reward:</b> 500</small></div>
										<div><small><b>Total:</b> 25,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 500</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/giftbag.png"></td>
									<td>
										<div><small><b>Title:</b> Gift Bag</small></div>
										<div><small><b>Quantity:</b> 100</small></div>
										<div><small><b>Reward:</b> 250</small></div>
										<div><small><b>Total:</b> 25,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 100</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/snowman.png"></td>
									<td>
										<div><small><b>Title:</b> Snowman</small></div>
										<div><small><b>Quantity:</b> 500</small></div>
										<div><small><b>Reward:</b> 100</small></div>
										<div><small><b>Total:</b> 50,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 500</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/snowflake.png"></td>
									<td>
										<div><small><b>Title:</b> Snowflake</small></div>
										<div><small><b>Quantity:</b> 1,000</small></div>
										<div><small><b>Reward:</b> 50</small></div>
										<div><small><b>Total:</b> 50,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 1,000</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/snowball.png"></td>
									<td>
										<div><small><b>Title:</b> Snowball</small></div>
										<div><small><b>Quantity:</b> 2,000</small></div>
										<div><small><b>Reward:</b> 25</small></div>
										<div><small><b>Total:</b> 50,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 2,000</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/rope.png"></td>
									<td>
										<div><small><b>Title:</b> Xmas Rope</small></div>
										<div><small><b>Quantity:</b> 10,000</small></div>
										<div><small><b>Reward:</b> 10</small></div>
										<div><small><b>Total:</b> 100,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 10,000</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/ball.png"></td>
									<td>
										<div><small><b>Title:</b> Xmas Ball</small></div>
										<div><small><b>Quantity:</b> 20,000</small></div>
										<div><small><b>Reward:</b> 5</small></div>
										<div><small><b>Total:</b> 100,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 20,000</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/candycane.png"></td>
									<td>
										<div><small><b>Title:</b> Candy Cane</small></div>
										<div><small><b>Quantity:</b> 50,000</small></div>
										<div><small><b>Reward:</b> 2</small></div>
										<div><small><b>Total:</b> 100,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 50,000</small></div>
									</td>
								</tr>

								<tr>
									<td align="center"><img class="img-fluid" src="images/lollypop.png"></td>
									<td>
										<div><small><b>Title:</b> Lollypop</small></div>
										<div><small><b>Quantity:</b> 100,000</small></div>
										<div><small><b>Reward:</b> 1</small></div>
										<div><small><b>Total:</b> 100,000</small></div>
										<div><small><b>Claimed:</b> 0</small></div>
										<div><small><b>Available:</b> 100,000</small></div>
									</td>
								</tr>
							</tbody>
						</table>

						<div class="d-grid">
							<button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>
		</div>




		<script src="js/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

		<script type="text/javascript">
			const father = document.getElementById('father')
			const mother = document.getElementById('mother')
			const worldmap = document.getElementById('worldmap')
			const cursorCircle = document.getElementById('cursor');
			const rewardModal = document.getElementById('rewardModal');
			const coordX = document.getElementById('coordX');
			const coordY = document.getElementById('coordY');
			const relocateButton = document.getElementById('relocateButton');

			father.onclick = (e) => {
				triggerSuccessToast("Click", "Open Metamask")
			}

			father.onmousemove = (e) => {
				const rows = 700;
				const cols = 1400;

				const coefX = rows / worldmap.clientWidth;;
				const coefY = cols / worldmap.clientHeight;

				const x = e.clientX - father.getBoundingClientRect().left;
				const y = e.clientY - father.getBoundingClientRect().top;

				coordX.value = Math.floor( x * coefX );
				coordY.value = Math.floor( y * coefY );

				cursorCircle.style.left = `${x - 10}px`;
				cursorCircle.style.top = `${y - 10}px`;
				cursorCircle.classList.remove('d-none');
			}

			relocateButton.onclick = (e) => {
				if (mother.classList.contains('top-100')) {
					mother.classList.remove('top-100')
					mother.classList.remove('bottom-left')
					mother.classList.add('top-0')
					relocateButton.classList.remove('btn-up')
					relocateButton.classList.add('btn-down')

				} else {
					mother.classList.remove('top-0')
					mother.classList.add('top-100')
					mother.classList.add('bottom-left')
					relocateButton.classList.remove('btn-down')
					relocateButton.classList.add('btn-up')
				}
			}

			const adjustImage = () => {
				const viewportHeight = window.visualViewport ? window.visualViewport.height : window.innerHeight;

				father.style.height = viewportHeight + 'px';
				father.style.width = 'auto';

				worldmap.style.height = '100%';
				worldmap.style.width = 'auto';
			};

			window.onload = () => {
				adjustImage();
			}

			function triggerSuccessToast(title, text) {
				let div = $('#successToast')
				if (title) div.find("strong").text(title)
				if (text) div.find(".toast-body").text(text)

				const toast = new bootstrap.Toast($('#successToast'))
				toast.show()
			}
		</script>
	</body>
</html>















